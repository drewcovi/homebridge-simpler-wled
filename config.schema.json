{
  "pluginAlias": "WLED",
  "pluginType": "platform",
  "singular": true,
  "customUi": true,
  "customUiPath": "./dist/homebridge-ui",
  "headerDisplay": "Homebridge plugin for WLED - control your WLED-powered LED strips through HomeKit",
  "footerDisplay": "For more information, see the [WLED website](https://kno.wled.ge/) and [GitHub repository](https://github.com/drewcovi/homebridge-simpler-wled).",
  "schema": {
    "type": "object",
    "required": ["name"],
    "properties": {
      "name": {
        "title": "Plugin Name",
        "type": "string",
        "default": "Simpler WLED"
      },
      "logLevel": {
        "title": "Log Level",
        "type": "string",
        "default": "info",
        "oneOf": [
          { "title": "Error", "enum": ["error"] },
          { "title": "Warning", "enum": ["warn"] },
          { "title": "Info", "enum": ["info"] },
          { "title": "Debug", "enum": ["debug"] }
        ],
        "description": "Set the logging level for the plugin. Debug mode provides detailed information for troubleshooting."
      },
      "defaultPollInterval": {
        "title": "Default Poll Interval (seconds)",
        "type": "integer",
        "default": 10,
        "minimum": 5,
        "maximum": 60,
        "description": "Default polling interval in seconds for new devices when WebSockets are not available"
      },
      "discoverySection": {
        "title": "Discovery Settings",
        "type": "object",
        "properties": {
          "autoDiscover": {
            "title": "Automatically Discover WLED Devices (Deprecated)",
            "description": "This setting is no longer used. Device discovery is now only triggered manually through the Custom Plugin UI to reduce network scanning.",
            "type": "boolean",
            "default": false
          }
        }
      },
      "defaultSettingsSection": {
        "title": "Default Settings for Auto-Discovered Devices",
        "type": "object",
        "properties": {
          "defaultUseSegments": {
            "title": "Expose LED Segments",
            "description": "Create separate accessories for LED segments on automatically discovered devices",
            "type": "boolean",
            "default": false
          },
          "defaultUsePresetService": {
            "title": "Add Preset Controls",
            "description": "Create preset control accessory for automatically discovered devices",
            "type": "boolean",
            "default": true
          },
          "defaultUseWebSockets": {
            "title": "Use WebSockets",
            "description": "Use WebSockets for real-time updates on automatically discovered devices (requires WLED v0.13+)",
            "type": "boolean",
            "default": true
          },
          "defaultPollInterval": {
            "title": "Poll Interval (seconds)",
            "description": "Status polling interval in seconds for automatically discovered devices (if WebSockets not available)",
            "type": "integer",
            "default": 10,
            "minimum": 1
          }
        }
      },
      "manualDevicesSection": {
        "title": "Manual Device Configuration",
        "type": "object",
        "properties": {
          "devices": {
            "type": "array",
            "title": "Manually Configured WLED Devices",
            "description": "Manually add WLED devices that cannot be auto-discovered or require custom settings",
            "items": {
              "type": "object",
              "required": ["name","host"],
              "properties": {
                "name": {
                  "title": "Name",
                  "type": "string"
                },
                "host": {
                  "title": "IP Address or Hostname",
                  "type": "string",
                  "format": "hostname"
                },
                "port": {
                  "title": "Port",
                  "type": "integer",
                  "default": 80,
                  "maximum": 65535,
                  "minimum": 1
                },
                "enabled": {
                  "title": "Enabled",
                  "type": "boolean",
                  "default": true,
                  "description": "Enable or disable this device without removing it from configuration"
                },
                "deviceSettings": {
                  "type": "object",
                  "title": "Device Settings",
                  "properties": {
                    "useSegments": {
                      "title": "Expose LED Segments",
                      "description": "Expose each LED segment as a separate accessory",
                      "type": "boolean",
                      "default": false
                    },
                    "usePresetService": {
                      "title": "Add Preset Controls",
                      "description": "Create preset control accessory for this device",
                      "type": "boolean",
                      "default": true
                    },
                    "useWebSockets": {
                      "title": "Use WebSockets",
                      "description": "Use WebSockets for real-time updates (requires WLED v0.13+)",
                      "type": "boolean",
                      "default": true
                    },
                    "pollInterval": {
                      "title": "Poll Interval (seconds)",
                      "description": "Status polling interval in seconds (if WebSockets not available)",
                      "type": "integer",
                      "default": 10,
                      "minimum": 1
                    },
                    "enabledPresets": {
                      "title": "Enabled Presets",
                      "description": "List of preset IDs that are enabled for this device. Configure this in the Custom Plugin UI.",
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "default": []
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}